const marketing=document.querySelector(".marketing"),marketingTabs=document.querySelectorAll(".marketing__tab"),marketingTabLinks=document.querySelectorAll(".marketing__bottom-li"),materials=document.querySelector(".materials"),marketingLinks=document.querySelectorAll(".marketing__bottom-link"),marketingBottomLi=document.querySelectorAll(".marketing__bottom-li"),marketingBottomList=document.querySelector(".marketing__bottom-list"),marketingTopInfo=document.querySelector(".marketing__top-info"),materialsTopTabs=document.querySelectorAll(".materials__top-tab"),materialsArticlesLinks=document.querySelectorAll(".materials__articles-link"),materialsTabClose=document.querySelectorAll(".materials__tab-close"),marketingClose=document.querySelectorAll(".marketing__tab-close"),wrapper=document.querySelector(".wrapper");for(let t=0;t<marketingLinks.length;t++){let e=marketingLinks[t];e.addEventListener("click",e=>{e.preventDefault()})}for(let e of materialsTabClose)e.addEventListener("click",e=>{e.preventDefault()});const linksText=["Заявки на покупку квартиры в ЖК","Заявки в бьюти-салон: М + Ж сегмент","Концепция сайта для стоматологии","Сайт для службы доставки пиццерии"];function linksTextCreator(){marketingLinks[0].innerHTML=linksText[0],marketingLinks[1].innerHTML=linksText[1],marketingLinks[2].innerHTML=linksText[2],marketingLinks[3].innerHTML=linksText[3]}const media1200=window.matchMedia("(max-width: 1200px)");function media1200px(e){e.matches}function findVideos(){var t=document.querySelectorAll(".marketing__tab-video");for(let e=0;e<t.length;e++)setupVideo(t[e])}function setupVideo(t){let a=t.querySelector(".marketing__tab-video-link");var e=t.querySelector(".marketing__tab-media");let i=t.querySelector(".marketing__tab-media-play"),r=parseMediaURL(e);t.addEventListener("click",()=>{var e=createIframe(r);a.remove(),i.remove(),t.appendChild(e)}),a.removeAttribute("href"),t.classList.add("video--enabled")}function parseMediaURL(e){let t=e.src;return t.match(/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i)[1]}function createIframe(e){let t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay"),t.setAttribute("src",generateURL(e)),t.classList.add("video__media"),t}function generateURL(e){return"https://www.youtube.com/embed/"+e+"?rel=0&showinfo=0&autoplay=1"}media1200.addListener(media1200px),media1200px(media1200),marketingTabLinks.forEach(e=>{e.addEventListener("click",e=>{let t=e.target.getAttribute("data-tab");document.getElementById(t).classList.add("marketing__tab--active"),materialsTopTabs.forEach(e=>{e.classList.remove("materials__top-tab--active")}),document.querySelector(".marketing__bottom-info").style.maxWidth="100%",marketingTopInfo.classList.remove("marketing__top-info--active"),marketingBottomList.style.justifyContent="start",marketingBottomLi.forEach(e=>{e.classList.remove("marketing__bottom-li--active")}),document.querySelector(".marketing__bottom-nav").style.marginBottom="30px",marketingClose.forEach(e=>{e.addEventListener("click",()=>{document.getElementById(t).classList.remove("marketing__tab--active"),marketing.classList.remove("marketing--active"),materials.classList.remove("materials--passive")})}),linksTextCreator(),1200<window.innerWidth&&(marketing.classList.add("marketing--active"),materials.classList.add("materials--passive"))})}),materialsArticlesLinks.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();const t=e.target;e=t.getAttribute("href").replace("#","");document.getElementById(e).classList.add("materials__top-tab--active"),marketingTabs.forEach(e=>{e.classList.remove("marketing__tab--active")}),marketing.classList.remove("marketing--active"),materials.classList.remove("materials--passive"),1200<wrapper.clientWidth&&(document.querySelector(".marketing__bottom-info").style.maxWidth="370px",marketingTopInfo.classList.add("marketing__top-info--active"),materials.classList.add("materials--active"),marketing.classList.add("marketing--passive"),marketingBottomList.style.justifyContent="center",marketingLinks.forEach(e=>{e.innerHTML=""}),marketingBottomLi.forEach(e=>{e.classList.add("marketing__bottom-li--active")}),document.querySelector(".marketing__bottom-nav").style.marginBottom="0px")})}),materialsTabClose.forEach(e=>{e.addEventListener("click",()=>{materialsTopTabs.forEach(e=>{e.classList.remove("materials__top-tab--active")}),document.querySelector(".marketing__bottom-info").style.maxWidth="100%",marketingTopInfo.classList.remove("marketing__top-info--active"),materials.classList.remove("materials--active"),marketing.classList.remove("marketing--passive"),marketingBottomList.style.justifyContent="start",marketingBottomLi.forEach(e=>{e.classList.remove("marketing__bottom-li--active")}),document.querySelector(".marketing__bottom-nav").style.marginBottom="30px",linksTextCreator()})}),findVideos();